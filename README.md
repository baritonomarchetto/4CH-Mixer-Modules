This repository hosts my new eurorack mixer modules and an old mixer module, for reference only. New mixers files are stored in "VERSION_2" folder.

# 4CH-Audio/CV-Mixer-Modules
Two different mixers for two different tasks. For modular synthesizers.

1 - Four channels audio mixer module with built-in reference tone generator

2 - Four channels CV mixer module with gain compensation.

# Intro
This follows a previous mixer project I rolled out some time ago for my DIY eurorack synthesizer. 
After years of use and some time spent on the theory, I ended up seeing more clearly the limits of that project and matured some awareness on mixers.

Mixer design cannot lie out of it's final use. Will the mixer be used for audio signal or control voltage signal? Is that audio signal "hot", like the eurorack standard calls for, or "line" level?

We are dealing with two mixer modules here, designed with very different applications in mind: one for audio, the other for control voltages.

The audio mixer circuit is simpler, use a small amount of components and I was able to lay the whole circuit down onto a single PCB (main board).
The full audio mixer module calls for the aforementioned main board and a front panel PCB with no components at all.

The CV mixer module is instead made of three PCBs: main board (the one with main circuitry), front board (the one hosting potentiometers and jacks) and a front panel.
Again, the CV mixer module front panel has no components.

# Mixers in Modular World
Eurorack synthesizers are modular systems renowned for their flexibility and deep sound design capabilities. Mixers are among the essential modules, and play a critical role in combining and routing signals.

Broadly speaking, mixers can be divided into two categories: audio mixers and control voltage mixers. Though their names suggest similar functions, they serve very distinct purposes in modular synthesis.

## Audio mixers
Audio mixers are designed specifically for combining audio signals. 

These signals are typically in the audible frequency range (20 Hz to 20 kHz) and are generated by oscillators, samplers, and other audio-producing sources.

Audio mixers are commonly used to combine multiple oscillators to create thick, harmonically rich sounds, sum signals processed through different effects chains, modify the audio level and balance for the final output, and so on.

In eurorack world audio signals are HOT (up to 10Vpp) and need some attenuation before hitting external hardware. Just to cite a very applicable example: "line" level, the most common input level for main mixers, is 10 times lower than eurorack.

The need for lowering the Eurorack audio level, sooner or later, makes not that important if the modular mixer "accidentally" modifies the incoming signal amplitude, in example adopting the cheap strategy of series current limiting resistors for protection pourpouses.

To our ears, a change in amplitude makes it quieter, but doesn't change the timbre or other quality aspects of the audio signal.

Another aspect strictly related to audio, underlies in the human auditory system. This responds logarithmically to changes in sound intensity, this means that potentiometers to be used in audio mixers should be logaritmic (often indicated as "A") for a "correct" behaviour.

## CV mixers
Control voltage mixers are intended to mix modulation sources signals. These are not audible sounds, but rather signals to control module's parameters such as pitch, filter cutoff, amplitude, etc.

One of the most common use case is the mixing of expression voltages like aftertouch, velocity and keyboard tracking, but also LFOs, envelopes, and other modulation sources to create complex CV patterns.

These mixers need precision and stability over output voltage, and are more complex to design than audio processing mixers.

Precision and stability requirements are especially necessary for VCOs pitch control, being the most demanding application in synthesizers.

With such a target application in mind, simple, common solutions used in audio mixers are no longer applicable.

Just to cite an example, using series current limiting resistors for output protection could be ok if the output is used for modulation of a filter opening or an oscillator PWM duty cycle, but definitely not to control a VCO pitch over a wide octaves range because of the voltage drop it could cause.

# Audio Mixer Circuit and Module Design
This project follows a [previous 4 channels mixer module](https://www.instructables.com/4-Channels-Mixer-Module-With-A440-Reference-Genera/). The time had come to focus it more to the final application (audio mix) and remove some unecessary feature.

## Improvements
First: **no variable gain**. Eurorack oscillators signal is HOT and needs attenuation before hitting external hardware. Going higher than unity gain in the final stage makes no sense, so we can save some good amount of panel space by omitting a dedicated gain potentiometer.

Second: **no inverted output**. To human hears, direct and inverted audio signals are perceived the same. The most basic audio mixer could use a single op-amp in inverting configuration and your ear would not notice.

## Built-In Reference Tone
A feature I always use with my [analog oscillators](https://www.instructables.com/CEM3340-Voltage-Controlled-Analog-Oscillator-Modul/), **the built-in digital reference tone** for tuning is something I could not live without.

This feature was already present in the previous mixer version, but it is here upgraded by the addiction of a direct control over the pitch and an RC filter with a roll-off frequency of just under 6kHz.

The sketch I have written for the reference tone is also brand new, with a direct square wave generation instead of the adoption of the basic "tune" Arduino function. This made the wave's tuning control way more effective, without the audio glitches the function was generating when moving between semitones.

Reference tone's pitch and volume can be set directly from the front panel through two dedicated potentiometers. These are two trimmers firmly soldered on the PCB, but made acessible through two holes on the front panel.

## Circuit
This new four (monaural) channel audio mixer module's circuit is based on a very simple but effective [design by Doepfer](http://www.doepfer.de/DIY/a100_diy.htm).

The circuit is built around a single dual op-amp in single package. I used common TL072, but one could use any other, pin-compatile op-amp of choice.

A human ear characteristic is it not being sensible to audio DC bias. Anyway, when two (or more) waves are mixed, the resultant wave is actually affected by relative bias. This is why every input of this mixer has an AC coupling capacitor following its voltage divider.

If the audio source is well known to be already AC coupled, one could omit these and replace them with jumpers.

## Module Design
The mixer circuit is made of only few components, and I dedicated due efforts to lay the circuit down onto a **single PCB** (plus the front panel) instead of two stacked PCBs thus keeping costs at minimum level.

All components values are silkscreened on the PCB to make assembly easier (I hate reference sheets).

There are no exhotic components, nor special care is in the need in components selection with the exception of potentiometers.

In the first iteration of the mixer I used linear pots because cheaper and easier to find than logaritmic. Human perception of volume follows a logaritmic law, instead, so in this more "focused to audio" mixer module I had to adopt **logaritmic potentiometers** by default. It is best, but not mandatory, to use logaritmic ("A", or "Audio"), mono, potentiometers instead of linear ("B").

The silkscreen shows 50K ohm potentiometers for input level, but you can also use 100K ohm pots in case you have those laying around.

The module calls for +12V, -12V and +5V. The 5V line is in the need for the digital tone generator, but you can omit it if you don't need the reference tone.

It's **3U tall, 8HP wide** and made of only two boards instead of three (front panel and main board).

Not bad, if you ask me!

# CV Mixer Circuit and Module Design
## CV Mixer Challenges
When dealing with control voltages, you often don't actually need a perfect tracking of the incoming voltage. Think i.e. to the common CVs from your keyboard (velocity, tracking, aftertouch): they could be lowened to some extent while travelling the mixer and you won't even notice.

Different is the case when you want to mix voltages for **pitch control**. A classical example is the application of some vibrato, where you add a certan amount of "oscillation" to your pitch voltage.

Human perception of pitch is extremely accurate and requires closely matched and/or trimmable components, so designing such a mixer calls for some special attentions.

## Circuit
First of all, starting from the possibility that we don't know exactly how the pitch signal is handled by the previous module, we can adopt a **buffering stage** at the input of any of the 4 channels.

Any signal is first buffered by a voltage follower based on an op-amp (a TL074 QUAD OP-AMP in this specific module) so as to not load down the output of whatever module is driving it.

The buffered signals from each input are then fed to an attenuation stage before hitting the mixing stage of the circuit.

Attenuation is simply made with **linear potentiometers** in voltage divider configuration ("Linear" pots because we are not dealing with audio signals, but CVs).

The mixing stage is similar to the one of the audio mixer we have seen in the previous Step, but with "pure" unity gain in sight. A **gain trimmer** is a good way to compensate for losses from the previous circuit sectors. This is placed in series with the appropriate feedback resistor dimensioned for a teoretical unity gain.

I adopted a multi-turn trimmer for fine gain control, which helped keeping the module width small.

The use of 1K ohm current limiting resistors at the **direct and inverted output** placed inside the feedback loop is a further "care" to limit the voltage drop at the output stage.

The 1K Ohm resistors serve not only as short-circuit protection for op-amps (every time you patch, the tip of the mixer output is shorted to the grounded sleeve of a jack), but also protects it from damage by static charge from outside, for example when a cable is inserted but not connected on the other side.

This module calls for +12V and -12V. It's **3U tall and 8HP wide**, like the previous mixer.

# Acknowledgments
Many thanks to the nice girls and guys at [JLCPCB](https://jlcpcb.com/IAT) for sponsoring the manufacturing of PCBs for these mixer modules. 
Without their contribution this project would have never reached the current level of development.

JLCPCB is a high-tech manufacturer specialized in the production of high-reliable and cost-effective PCBs. They offer a flexible PCB assembly service with a huge library of more than 600.000 components in stock.
3D printing is part of their portfolio of services so one could create a full finished product, all in one place!

What about nano-coated stencils for your SMD projects? You can take advantage of a coupon and test it for free in these days!

By registering at JLCPCB site via [THIS LINK](https://jlcpcb.com/IAT) (affiliated link) you will receive a series of coupons for your orders. Registering costs nothing, so it could be the right opportunity to give their service a due try ;)

My projects are free and for everybody. You are anyway welcome if you want to donate some change to help me cover components costs and push the development of new projects (I have a new one on a nice sub-oscillator module that could be interesting for some of you... :) )
[>>HERE<<](https://paypal.me/GuidolinMarco?country.x=IT&locale.x=it_IT) is my paypal donation page, just in case ;)






